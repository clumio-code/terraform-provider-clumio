---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "clumio_policy Resource - terraform-provider-clumio"
subcategory: ""
description: |-
  Clumio Policy Resource used to schedule backups on Clumio supported data sources.
---

# clumio_policy (Resource)

Clumio Policy Resource used to schedule backups on Clumio supported data sources.

## Example Usage

```terraform
resource "clumio_policy" "example" {
  name                   = "example-policy"
  organizational_unit_id = "organizational_unit_id"
  activation_status      = "activated"
  operations {
    action_setting = "window"
    type           = "protection_group_backup"
    slas {
      retention_duration {
        unit  = "months"
        value = 3
      }
      rpo_frequency {
        unit  = "days"
        value = 1
      }
    }
    advanced_settings {
      protection_group_backup {
        backup_tier = "cold"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the policy.
- `operations` (Block Set, Min: 1) Each data source to be protected should have details provided in the list of operations. These details include information such as how often to protect the data source, whether a backup window is desired, which type of protection to perform, etc. (see [below for nested schema](#nestedblock--operations))

### Optional

- `activation_status` (String) The status of the policy. Valid values are:activated: Backups will take place regularly according to the policy SLA.deactivated: Backups will not begin until the policy is reactivated. The assets associated with the policy will have their compliance status set to deactivated.
- `organizational_unit_id` (String) The Clumio-assigned ID of the organizational unit associated with the policy.
- `timezone` (String) The timezone of the policy.

### Read-Only

- `id` (String) Policy Id.
- `lock_status` (String) Policy Lock Status.

<a id="nestedblock--operations"></a>
### Nested Schema for `operations`

Required:

- `action_setting` (String) Determines whether the policy should take action now or during the specified backup window. Valid values:immediate: to start backup process immediatelywindow: to start backup in the specified window
- `slas` (Block Set, Min: 1) The service level agreement (SLA) for the policy. A policy can include one or more SLAs. For example, a policy can retain daily backups for a month each, and monthly backups for a year each. (see [below for nested schema](#nestedblock--operations--slas))
- `type` (String) The type of operation to be performed. Depending on the type selected, `advanced_settings` may also be required. See the API Documentation for "List policies" for more information about the supported types.

Optional:

- `advanced_settings` (Block Set, Max: 1) Additional operation-specific policy settings. (see [below for nested schema](#nestedblock--operations--advanced_settings))
- `backup_window_tz` (Block Set, Max: 1) The start and end times for the customized backup window that reflects the user-defined timezone. (see [below for nested schema](#nestedblock--operations--backup_window_tz))

<a id="nestedblock--operations--slas"></a>
### Nested Schema for `operations.slas`

Required:

- `retention_duration` (Block Set, Min: 1, Max: 1) The retention time for this SLA. For example, to retain the backup for 1 month, set unit=months and value=1. (see [below for nested schema](#nestedblock--operations--slas--retention_duration))
- `rpo_frequency` (Block Set, Min: 1, Max: 1) The minimum frequency between backups for this SLA. Also known as the recovery point objective (RPO) interval. For example, to configure the minimum frequency between backups to be every 2 days, set unit=days and value=2. To configure the SLA for on-demand backups, set unit=on_demand and leave the value field empty. (see [below for nested schema](#nestedblock--operations--slas--rpo_frequency))

<a id="nestedblock--operations--slas--retention_duration"></a>
### Nested Schema for `operations.slas.retention_duration`

Required:

- `unit` (String) The measurement unit of the SLA parameter. Values include hours, days, months, and years.
- `value` (Number) The measurement value of the SLA parameter.


<a id="nestedblock--operations--slas--rpo_frequency"></a>
### Nested Schema for `operations.slas.rpo_frequency`

Required:

- `unit` (String) The measurement unit of the SLA parameter. Values include hours, days, months, and years.
- `value` (Number) The measurement value of the SLA parameter.



<a id="nestedblock--operations--advanced_settings"></a>
### Nested Schema for `operations.advanced_settings`

Optional:

- `ec2_mssql_database_backup` (Block Set, Max: 1) Additional policy configuration settings for the mssql_database_backup operation. If this operation is not of type mssql_database_backup, then this field is omitted from the response. (see [below for nested schema](#nestedblock--operations--advanced_settings--ec2_mssql_database_backup))
- `ec2_mssql_log_backup` (Block Set, Max: 1) Additional policy configuration settings for the mssql_log_backup operation. If this operation is not of type mssql_log_backup, then this field is omitted from the response. (see [below for nested schema](#nestedblock--operations--advanced_settings--ec2_mssql_log_backup))
- `mssql_database_backup` (Block Set, Max: 1) Additional policy configuration settings for the mssql_database_backup operation. If this operation is not of type mssql_database_backup, then this field is omitted from the response. (see [below for nested schema](#nestedblock--operations--advanced_settings--mssql_database_backup))
- `mssql_log_backup` (Block Set, Max: 1) Additional policy configuration settings for the mssql_log_backup operation. If this operation is not of type mssql_log_backup, then this field is omitted from the response. (see [below for nested schema](#nestedblock--operations--advanced_settings--mssql_log_backup))
- `protection_group_backup` (Block Set, Max: 1) Additional policy configuration settings for the protection_group_backup operation. If this operation is not of type protection_group_backup, then this field is omitted from the response. (see [below for nested schema](#nestedblock--operations--advanced_settings--protection_group_backup))

<a id="nestedblock--operations--advanced_settings--ec2_mssql_database_backup"></a>
### Nested Schema for `operations.advanced_settings.ec2_mssql_database_backup`

Optional:

- `alternative_replica` (String) The alternative replica for MSSQL database backups. This setting only applies to Availability Group databases. Possible values include "primary", "sync_secondary", and "stop". If "stop" is provided, then backups will not attempt to switch to a different replica when the preferred replica is unavailable. Otherwise, recurring backups will attempt to use either the primary replica or the secondary replica accordingly.
- `preferred_replica` (String) The primary preferred replica for MSSQL database backups. This setting only applies to Availability Group databases. Possible values include "primary" and "sync_secondary". Recurring backup will first attempt to use either the primary replica or the secondary replica accordingly.


<a id="nestedblock--operations--advanced_settings--ec2_mssql_log_backup"></a>
### Nested Schema for `operations.advanced_settings.ec2_mssql_log_backup`

Optional:

- `alternative_replica` (String) The alternative replica for MSSQL log backups. This setting only applies to Availability Group databases. Possible values include "primary", "sync_secondary", and "stop". If "stop" is provided, then backups will not attempt to switch to a different replica when the preferred replica is unavailable. Otherwise, recurring backups will attempt to use either the primary replica or the secondary replica accordingly.
- `preferred_replica` (String) The primary preferred replica for MSSQL log backups. This setting only applies to Availability Group databases. Possible values include "primary" and "sync_secondary". Recurring backup will first attempt to use either the primary replica or the secondary replica accordingly.


<a id="nestedblock--operations--advanced_settings--mssql_database_backup"></a>
### Nested Schema for `operations.advanced_settings.mssql_database_backup`

Optional:

- `alternative_replica` (String) The alternative replica for MSSQL database backups. This setting only applies to Availability Group databases. Possible values include "primary", "sync_secondary", and "stop". If "stop" is provided, then backups will not attempt to switch to a different replica when the preferred replica is unavailable. Otherwise, recurring backups will attempt to use either the primary replica or the secondary replica accordingly.
- `preferred_replica` (String) The primary preferred replica for MSSQL database backups. This setting only applies to Availability Group databases. Possible values include "primary" and "sync_secondary". Recurring backup will first attempt to use either the primary replica or the secondary replica accordingly.


<a id="nestedblock--operations--advanced_settings--mssql_log_backup"></a>
### Nested Schema for `operations.advanced_settings.mssql_log_backup`

Optional:

- `alternative_replica` (String) The alternative replica for MSSQL log backups. This setting only applies to Availability Group databases. Possible values include "primary", "sync_secondary", and "stop". If "stop" is provided, then backups will not attempt to switch to a different replica when the preferred replica is unavailable. Otherwise, recurring backups will attempt to use either the primary replica or the secondary replica accordingly.
- `preferred_replica` (String) The primary preferred replica for MSSQL log backups. This setting only applies to Availability Group databases. Possible values include "primary" and "sync_secondary". Recurring backup will first attempt to use either the primary replica or the secondary replica accordingly.


<a id="nestedblock--operations--advanced_settings--protection_group_backup"></a>
### Nested Schema for `operations.advanced_settings.protection_group_backup`

Optional:

- `backup_tier` (String) Backup tier to store the backup in. Valid values are: cold, frozen



<a id="nestedblock--operations--backup_window_tz"></a>
### Nested Schema for `operations.backup_window_tz`

Required:

- `start_time` (String) The time when the backup window opens. Specify the start time in the format hh:mm, where hh represents the hour of the day and mm represents the minute of the day based on the 24 hour clock.

Optional:

- `end_time` (String) The time when the backup window closes. Specify the end time in the format hh:mm, where hh represents the hour of the day and mm represents the minute of the day based on the 24 hour clock.

## Import

Import is supported using the following syntax:

```shell
# Replace POLICY_ID with the correct Clumio Policy ID.
terraform import clumio_policy.example POLICY_ID
```
